{"version":3,"sources":["webpack:///application.js","webpack:///./frontend/components/messages/messages.js","webpack:///./frontend/packs/application.js","webpack:///./frontend/init/index.js","webpack:///./frontend/init/loco.js","webpack:///./frontend/services/NotificationCenter.js","webpack:///./frontend/components/message/message.css","webpack:///./frontend/components/messages/messages.css","webpack:///./frontend/init/index.css","webpack:///./frontend/components/page/page.css","webpack:///./frontend/components/auth-form/auth-form.css","webpack:///./frontend/components/chat/chat.js","webpack:///./frontend/components/message-form/message-form.js","webpack:///./frontend/components/message-form/message-form.css","webpack:///./frontend/components/chat/chat.css"],"names":["webpackJsonp","a","b","c","d","i","scrollTop","scrollHeight","f","h","n","document","querySelector","insertAdjacentHTML","Object","defineProperty","value","e","g","Deps","cable","createConsumer","NotificationCenter","Loco","init","TypeError","length","enumerable","configurable","writable","key","prototype","this","message","Env","loco","emit","j","focus","k","addEventListener","keyCode","metaKey","preventDefault"],"mappings":"AAAAA,cAAc,IAAI,CAAC,CAAC,SAASC,EAAEC,EAAEC,GAAG,YCM3B,SAAAC,KAEPC,MAAQC,UAAYD,EACrBE,cAAA,GAAAC,IAAAL,EAAA,GAAAA,EAAA,KANKM,GAMLN,EANDO,EAAAF,GAAiBG,SAASC,cAC1B,iBAAMP,EAAUI,GAAYA,EAASG,cAAc,wBAS7CR,KAMSF,EAAAD,EANW,SAAAA,GAExBI,MAAQQ,mBACR,YAAAZ,GACDG,OAED,WAAAH,EAAAC,EAAAC,GAAA,YAAAW,QAAAC,eAAAb,EAAA,cAAAc,OAAA,GAAAb,GAAA,GAAAA,EAAA,IAAAA,EAAA,IAAAA,ECjBA,cAAAF,EAAAC,EAAAC,GAAA,gBAAAc,IAAAd,EAAA,GAAAA,EAAA,IAAAA,GCFAO,EAAAO,IAAA,SAAAhB,EAAAC,EAAAC,GAAA,gBAAAC,GAAAD,EAAA,GAAAK,GAAAL,EAAAO,EAAAN,GAAAD,EAAA,IAAAe,EAAAf,EAAAO,EAAAF,GAAAC,EAAAN,ECEA,EAEAC,GAAAe,KAAKC,MAAQF,EAAAjB,EAAYoB,iBACzBjB,EAAAe,KAAKG,mBAAqBb,EAAAR,GAEb,GAAIG,GAAAmB,MAEZC,QAAA,SAAAvB,EAAAC,EAAAC,GAAA,qBAAAC,GAAAH,EAAAC,GAAA,KAAAD,YAAAC,IAAA,SAAAuB,WAAA,qCCTL,GAAAR,GAAAd,EAAA,GAAAK,EAAA,mBAAAP,KAAAC,GAAA,OAAAC,GAAAC,EAAA,EAAAA,EAAAF,EAAAwB,OAAAtB,IAAAD,EAAAD,EAAAE,GAAAD,EAAAwB,WAAAxB,EAAAwB,aAAA,EAAAxB,EAAAyB,cAAA,WAAAzB,OAAA0B,UAAA,GAAAf,OAAAC,eAAAd,EAAAE,EAAA2B,IAAA3B,GAAA,gBAAAD,EAAAC,EAAAC,GAAA,MAAAD,IAAAF,EAAAC,EAAA6B,UAAA5B,GAAAC,GAAAH,EAAAC,EAAAE,GAAAF,MAEMgB,EAAA,mBAAAjB,KAAAG,EAAA4B,KAAA/B,GAAA,MAAAO,GAAAP,EAAA,OAAA6B,IAAA,iBAAAd,MACkB,SAAAf,GAChBA,EACFgC,SAAAnB,OAAAG,EAAAhB,GAAkBA,EAErBgC,aAAAhC,IAGYC,GAAAD,EAAAiB,GAAA,SAAAjB,EAAAC,EAAAC,GAAA,gBAAAC,GAAAD,EAAA,GAAAA,GAAAO,EAAAN,IAAA,aCVf,aCAA,aCAA,SAAAH,EAAAC,EAAAC,GAAA,gBAAAC,GAAAD,EAAA,GAAAA,GAAAO,EAAAN,IAAA,aCAA,SAAAH,EAAAC,EAAAC,GAAA,gBAAAC,GAAAD,EAAA,GAAAA,GAAAO,EAAAN,IAAA,aCAA,SAAAH,EAAAC,EAAAC,GAAA,gBAAAK,IAAAL,EAAA,GAAAA,EAAA,IAAAA,EAAA,IAAAA,GCCAO,EAAAF,IAAA,SAAAP,EAAAC,EAAAC,GAAA,YCMS,SAAAC,KAEPa,EAAAiB,IAAIC,KAAKC,MAAOH,QAASI,EACzBrB,QAAAqB,EAAMrB,MACN,GAAAqB,EACDC,QAIC,GAAArB,GAAAd,EAAA,GAAAe,GAAAf,EAAAO,EAAAO,GAAAd,EAAA,KAbIE,GAaJF,EAbFO,EAAAQ,GAAaP,SAASC,cACtB,qBAAMyB,EAAQhC,GAAQA,EAAKO,cAC3B,2BAAM2B,EAASlC,GAAQA,EAAKO,cAAc,2BAAAyB,MAWlCG,iBAAiB,UAAW,SAAAvC,GACV,KAAlBA,EAAMwC,SAAkBxC,EAC1ByC,UAAAzC,EACA0C,iBAEHvC,OAKDmC,KAAOC,iBAAiB,QAAS,SAAAvC,GAC/BA,EACA0C,iBACDvC,OACF,aC9BD,eCAA","file":"application.js","sourcesContent":["webpackJsonp([0],[,,function(a,b,c){\"use strict\";function d(){i&&(i.scrollTop=i.scrollHeight)}var e=c(9),f=c(11),g=c.n(f),h=document.querySelector(\".js-messages\"),i=h&&h.querySelector(\".js-messages--content\");d();b.a=function(a){i&&(i.insertAdjacentHTML(\"beforeend\",a),d())}},,,function(a,b,c){\"use strict\";Object.defineProperty(b,\"__esModule\",{value:!0});var d=c(6),e=c(13),f=c(15),g=c(17)},function(a,b,c){\"use strict\";var d=c(7),e=c(12),f=c.n(e)},function(a,b,c){\"use strict\";var d=c(0),e=c.n(d),f=c(1),g=c.n(f),h=c(8);d.Deps.cable=g.a.createConsumer(),d.Deps.NotificationCenter=h.a;var i=new d.Loco;i.init()},function(a,b,c){\"use strict\";function d(a,b){if(!(a instanceof b))throw new TypeError(\"Cannot call a class as a function\")}var e=c(2),f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,\"value\"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(){d(this,a)}return f(a,null,[{key:\"receivedSignal\",value:function(a){a.message&&Object(e.a)(a.message)}}]),a}();b.a=g},function(a,b,c){\"use strict\";var d=c(10),e=c.n(d)},function(){},function(){},function(){},function(a,b,c){\"use strict\";var d=c(14),e=c.n(d)},function(){},function(a,b,c){\"use strict\";var d=c(16),e=c.n(d)},function(){},function(a,b,c){\"use strict\";var d=c(2),e=c(18),f=c(20),g=c.n(f)},function(a,b,c){\"use strict\";function d(){e.Env.loco.emit({message:j.value}),j.value=\"\",j.focus()}var e=c(0),f=c.n(e),g=c(19),h=c.n(g),i=document.querySelector(\".js-message-form\"),j=i&&i.querySelector(\".js-message-form--input\"),k=i&&i.querySelector(\".js-message-form--submit\");j&&j.addEventListener(\"keydown\",function(a){13===a.keyCode&&a.metaKey&&(a.preventDefault(),d())}),k&&k.addEventListener(\"click\",function(a){a.preventDefault(),d()})},function(){},function(){}],[5]);\n\n\n// WEBPACK FOOTER //\n// application.js","import \"components/message/message\"; // message is nested, so we import it here\nimport \"./messages.css\";\n\nconst messages = document.querySelector(\".js-messages\");\nconst content = messages && messages.querySelector(\".js-messages--content\");\n\nfunction scrollToBottom() {\n  if (!content) return;\n  content.scrollTop = content.scrollHeight;\n}\n\nscrollToBottom();\n\nconst displayNewMessage = msg => {\n  if (!content) return;\n  content.insertAdjacentHTML(\"beforeend\", msg);\n  scrollToBottom();\n};\n\nexport default displayNewMessage;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/components/messages/messages.js","import \"init\";\nimport \"components/page/page\";\nimport \"components/auth-form/auth-form\";\nimport \"components/chat/chat\";\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/packs/application.js","import \"./loco\";\n\nimport \"./index.css\";\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/init/index.js","import { Deps, Loco } from \"loco-js\";\nimport ActionCable from \"actioncable\";\nimport NotificationCenter from \"../services/NotificationCenter\";\n\nDeps.cable = ActionCable.createConsumer();\nDeps.NotificationCenter = NotificationCenter;\n\nconst loco = new Loco();\n\nloco.init();\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/init/loco.js","import displayNewMessage from \"../components/messages/messages\";\n\nclass NotificationCenter {\n  static receivedSignal(data) {\n    if (data.message) {\n      displayNewMessage(data.message);\n    }\n  }\n}\n\nexport default NotificationCenter;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/services/NotificationCenter.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/components/message/message.css\n// module id = 10\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/components/messages/messages.css\n// module id = 11\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/init/index.css\n// module id = 12\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/components/page/page.css\n// module id = 14\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/components/auth-form/auth-form.css\n// module id = 16\n// module chunks = 0","import \"components/messages/messages\";\nimport \"components/message-form/message-form\";\nimport \"./chat.css\";\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/components/chat/chat.js","import { Env } from \"loco-js\";\nimport \"./message-form.css\";\n\nconst form = document.querySelector(\".js-message-form\");\nconst input = form && form.querySelector(\".js-message-form--input\");\nconst submit = form && form.querySelector(\".js-message-form--submit\");\n\nfunction submitForm() {\n  // This will invoke received_signal method inside app/services/notification_center.rb\n  Env.loco.emit({ message: input.value });\n  input.value = \"\";\n  input.focus();\n}\n\n// You can send a message with cmd/ctrl+enter\nif (input) {\n  input.addEventListener(\"keydown\", event => {\n    if (event.keyCode === 13 && event.metaKey) {\n      event.preventDefault();\n      submitForm();\n    }\n  });\n}\n\n// Or by cicking a button\nif (submit) {\n  submit.addEventListener(\"click\", event => {\n    event.preventDefault();\n    submitForm();\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/components/message-form/message-form.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/components/message-form/message-form.css\n// module id = 19\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/components/chat/chat.css\n// module id = 20\n// module chunks = 0"],"sourceRoot":""}